
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">

<dom-module id="x-task">

  <template>

    <style>
      /* local DOM styles go here */
      :host {
        display: inline-block;
        width: 100%;
        position: relative;
        box-sizing: border-box;
        margin: 1rem 0;
      }

      :host > paper-item-body {
        flex: 0 0 auto;
      }
      .actions{
      	position: relative;
      	
      	right: 0px;
        width: 5rem
      }
      
    ::host > div.main.menu {
    margin-top: -2px;
    min-height: 0em;

    }

    div.task.header{
      font-weight: bold;
    }

      .title { 
        flex:auto;
      }

      paper-header-panel {
        --paper-header-panel-standard-container: {
          border: 1px solid gray;
        };
      }

    </style>

    <!-- Use of semantic's segments to group  -->
    <!-- <paper-header-panel class="flex">
      <paper-toolbar>
        <div class="title">{{title}}</div>
         <div class="actions style-scope paper-card">
            <iron-icon icon="icons:delete"></iron-icon>
            <iron-icon icon="icons:done"></iron-icon>
          </div>
      </paper-toolbar>
      <div></div>
    </paper-header-panel>
      

      <div class="card-content">	
        <div style="display: inline-block; height: 64px; width: 64px; border-radius: 50%; background: #ddd; line-height: 64px; font-size: 30px; color: #555; text-align: center;">F</div>
        <div class="task-description"> 
          <p style="font-size: 16px;">{{priority}}</p>
        </div>
      </div> -->
      <!-- <div class="card-actions">
        
      </div> -->
      
      <div class$="ui raised segments {{priorityClass}}">
        <div class="ui segment">
          <div class="task header">

            <div class="ui right floated main mini menu">
              <a class="icon item" on-click="fireRemoveTask"><i class="remove circle icon"></i> Delete</a>
              <a class="icon item" on-click="fireRemoveTask"><i class="done icon"></i> Done</a>
            </div>
            <div class="title">{{title}}</div>

          </div>
        </div>
        <div class="ui segment"><p>lorem ipsum ......</p></div>
      </div>
  </template>

  <script>


  class XTask {
    
    get taskTitle() {return this.title}
    set taskTitle(title){this.title =title}

  	   // Define behaviors with a getter.
    get behaviors() {
      return [];
    }

    // Element setup goes in beforeRegister instead of createdCallback.
    beforeRegister() {
      this.is = 'x-task';
      
      // Define the properties object in beforeRegister.
      this.properties = {
        title : String,
        priority : Priority,
        priorityClass: String,
        symbols: {
          type: Array,
          value: function() { return []; },
          observer: '_updateProps'
        }
      };
    }

    
    // Define other lifecycle methods as you need.
    ready() {
       this.priority = Priority.High;
      this.priorityClass = Priority[this.priority];
     }
    
    attached() {
     
     }
    
    detached() { }

    attributeChanged() {  }

    _updateProps() {
      // Same as the vanilla component.
    }
  }
  XTask.prototype.fireRemoveTask = function(e, details){
      this.fire('removeTask', {task: {
        id: this.id
      } });
    };

  Polymer(XTask);
  </script>

</dom-module>

